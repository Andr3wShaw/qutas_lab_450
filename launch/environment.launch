<?xml version='1.0'?>
<launch>
	<!-- Common Settings -->
	<arg name="frame_id" default="/map" />
	<arg name="topic_grid" default="/grid" />

	<arg name="vicon" default="true" />


	<!-- VICON Bridge -->
	<group if="$(arg vicon)">
		<include file="$(find vicon_bridge)/launch/vicon.launch">
			<arg name="frame_id" value="$(arg frame_id)" />
		</include>
	</group>


	<!-- Occupancy Grid -->
	<node pkg="qutas_lab_450" type="area_map_node" name="area_map" clear_params="true" output="screen">
		<param name="topic_map" value="$(arg topic_grid)" type="str" />
		<param name="frame_id" value="$(arg frame_id)" type="str" />

		<!-- Map Parameters /-->
		<rosparam command="load" file="$(find qutas_lab_450)/launch/map_layout.yaml"/>
	</node>


	<!-- Grid Visualization -->
	<node pkg="qutas_lab_450" type="area_viz_node" name="area_viz" clear_params="true" output="screen">
		<param name="topic_grid" value="$(arg topic_grid)" type="str" />
		<param name="topic_markers" value="markers" type="str" />
		<param name="marker/namespace" value="area_viz" type="str" />
		<param name="marker/height" value="2.0" type="double" />
		<param name="marker/color/alpha" value="1.0" type="double" />
		<param name="marker/color/red" value="0.5" type="double" />
		<param name="marker/color/green" value="0.5" type="double" />
		<param name="marker/color/blue" value="0.5" type="double" />
	</node>

</launch>
